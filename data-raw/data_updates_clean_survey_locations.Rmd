---
title: "feather river redd survey locations naming qc - adding names to data"
date: "2024-12-09"
rmarkdown::github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE)

library(tidyverse)
library(lubridate)
library(ggplot2)
library(dplyr)
library(readxl)
library(sf)
library(openxlsx)
library(readxl)
```
The goal of this markdown is to clean up the location names from Feather River redd survey data.

Summary of work that has been done so far:

  * redd_qc_2014-2023 - mainly exploratory: 
    *  raw data is pulled in, negative velocity values are set to NA
    * pot_depth_m >= 40 is set to NA
    * "type" is removed
    
  * mapping_qc: looks into latitude longitude and identifies issues. 
    * Data file input: "data/archive/all_redd_data.csv" 
  * clean_locations: fixed latitude/longitude provided by Chris Cook, these changes address the issues found on mapping_qc. 
    * Data file input: "data/archive/all_redd_data.csv". 
    * Data file output(s): "data-raw/redd_observations_clean_locations.csv" and "data/redd_observations.csv" (`location`, `survey_wk` and `file_number` removed)
  
```{r, include=FALSE}
redd_observations <- read.csv("data-raw/redd_observations_clean_locations.csv")
```

Looking into unique location names

  * There are 81 unique names
  
```{r}
unique(redd_observations$location)
```

Survey location names - redd data  locations will be matched to these names

```{r, echo=FALSE, message=FALSE}
# Names from survey location provided by Chris Cook
locations <- c(
  "UpperHatchery", "UpperCottonwood", "Hatchery", "Cottonwood",
  "TopofAuditorium", "MoesSideChannel", "UpperAuditorium", "MiddleAuditorium",
  "LowerAuditorium", "HatcheryPipe", "LowerTableMountain", "TableMountain",
  "BelowLowerAuditorium", "Bedrock", "TrailerPark", "UpperMathews",
  "Mathews", "UpperRobinson", "LowerRobinson", "Steep",
  "SteepSideChannel", "Weir", "Eye", "EyeSideChannel",
  "Gateway", "Aleck", "HatcherySideChannel", "VanceEast",
  "VanceWest", "BigHoleEast", "BigHoleWest", "BelowBigHoleEast",
  "G95WestSideChannel", "G95EastSideChannelTop", "G95EastSideChannelBottom", "UpperHour",
  "LowerHour", "Keister", "Goose", "Big",
  "LowerBig", "BigBar", "UpperMcFarland", "LowerMcFarland",
  "Developing"
)
locations <- tolower(locations)
table_data <- data.frame(
  ID = seq_along(locations), 
  Name = locations
)

knitr::kable(table_data, col.names = c("ID", "Location Name"))
```

Identifying locations that do not match survey location names

```{r, echo=FALSE}
invalid_locations <- redd_observations$location[!redd_observations$location %in% locations]

# Display invalid locations
unique_invalid_locations <- unique(locations)
print(unique_invalid_locations)
```

